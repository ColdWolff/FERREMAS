<!DOCTYPE html>
<html>
<head>
    <title>Webpay Plus Create</title>
    <style>
        #payment-section {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Create Transaction</h1>
    <form id="amount-form" method="post">
        {% csrf_token %}
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" min="10000" max="1000000" required>
        <button type="submit">Submit</button>
    </form>

    {% if response %}
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById('amount-form').style.display = 'none';
            document.getElementById('payment-section').style.display = 'block';
        });
    </script>
    <div id="payment-section">
        <h2>Pago</h2>
        <form action="{{ response.url }}" method="post">
            <input type="hidden" name="token_ws" value="{{ response.token }}">
            <button type="submit">Pagar</button>
        </form>
    </div>
    {% endif %}
</body>
</html>
